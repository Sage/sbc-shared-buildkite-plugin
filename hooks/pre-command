set -euo pipefail

. "$(dirname $BASH_SOURCE)/../functions.sh"

prefix="${BUILDKITE_PLUGIN_SBC_SHARED_REPO_PREFIX:-sageone}"
setup $prefix

# required config
export ENVIRONMENT="$BUILDKITE_PLUGIN_SBC_SHARED_ENVIRONMENT"
export LANDSCAPE="$BUILDKITE_PLUGIN_SBC_SHARED_LANDSCAPE"
export ACCOUNT_ID="$BUILDKITE_PLUGIN_SBC_SHARED_ACCOUNT_ID"

# optional config with a default value
export DOCKER_TAG="${BUILDKITE_PLUGIN_SBC_SHARED_TAG:-application}"
export HAS_DB_IMAGE="${BUILDKITE_PLUGIN_SBC_SHARED_HAS_DB_IMAGE:-false}"