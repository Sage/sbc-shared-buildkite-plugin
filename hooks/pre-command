set -euo pipefail

. "$(dirname $BASH_SOURCE)/../lib/functions.sh"

prefix="${BUILDKITE_PLUGIN_SBC_SHARED_REPO_PREFIX:-sageone}"
setup $prefix

# Validation of config will be done by each relevant action
export ENVIRONMENT="${BUILDKITE_PLUGIN_SBC_SHARED_ENVIRONMENT:-''}"
export LANDSCAPE="${BUILDKITE_PLUGIN_SBC_SHARED_LANDSCAPE:-''}"
export ACCOUNT_ID="${BUILDKITE_PLUGIN_SBC_SHARED_ACCOUNT_ID:-''}"
export DOCKER_TAG="${BUILDKITE_PLUGIN_SBC_SHARED_TAG:-application}"
export HAS_DB_IMAGE="${BUILDKITE_PLUGIN_SBC_SHARED_HAS_DB_IMAGE:-false}"